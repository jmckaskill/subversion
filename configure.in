dnl Process this file with autoconf to produce a configure script.
AC_INIT(subversion/include/svn_types.h)
AM_INIT_AUTOMAKE(Subversion, 0.0)

AM_CONFIG_HEADER(config.h)

# kff todo: we're English-only now, but GNU Gettext eventually?
# dnl Set of available languages.
# ALL_LINGUAS="de fr es ko nl no pl pt sl sv"

# kff todo: change this to (apr expat-lite), if expat-lite is ever
# autoconfiscated. 
AC_CONFIG_SUBDIRS(apr)

dnl Checks for programs.
AC_PROG_CC

# dnl Checks for libraries.
# AC_CHECK_LIB()
# kff todo: used to have:
# AC_CHECK_LIB(apr, ap_make_hash, ,(cd apr; make))
# AC_CHECK_LIB(expat-lite, XML_SetCdataSectionHandler, ,(cd expat-lite; make))


dnl Checks for header files.
AC_HEADER_STDC
AC_CHECK_HEADERS(unistd.h)

dnl Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST
AC_TYPE_SIZE_T

dnl Checks for ranlib.
AC_PROG_RANLIB

# kff todo: when had this, `aclocal' got this error:
# aclocal: configure.in: 37: macro `AM_PROG_LIBTOOL' not found in library
# How about that?
# dnl Checks for libtool.
# AM_PROG_LIBTOOL

dnl Checks for library functions.
AC_FUNC_MEMCMP
AC_CHECK_FUNCS(strerror)

AC_OUTPUT(Makefile                                          \
          doc/Makefile                                      \
          subversion/libsvn_subr/parsetest/Makefile         \
          subversion/libsvn_svr/Makefile                    \
          subversion/libsvn_string/Makefile                 \
          subversion/libsvn_wc/Makefile                     \
          subversion/libsvn_vcdiff/Makefile                 \
          subversion/libsvn_svr/tests/Makefile)
