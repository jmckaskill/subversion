     * * * * * * * * * * * * * * * * * * * * * * * * * * * *
     *                                                     *
     *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
     *                                                     *
     * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.5.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.


Candidate changes for 1.5.7:
============================

 * r36106
   Resolves issue #3374, "svn cp --parents path URL encoding issues"
   For
     svn cp --parent ^/fö ^/dö/fö
   The --parents code checked and might creat^/d%C3%B6, while the file was
   copied to ^/dö as expected.
   Justification:
     Without this patch --parents is broken for utf8 characters in repos
     to repos copy and move operations.
   Votes:
     +1: rhuijben
     -0: gstein (encoding issues are tricky; I'd rather tell people to
                 upgrade to 1.6.0, rather than 1.5.6)

 * r36111
   On Windows don't retry deleting a file 100 times when this file is really
   not a file but just a directory.
   Justification:
     Makes removing unversioned directories much faster.
     (You can see the delay with: svn rm --force <unversioned-empty-directory>)
   Votes:
     +1: rhuijben
     -0: gstein (edge case performance fixes shouldn't be backported; if
                 the user wants the fix, they can upgrade to 1.6.0 rather
                 than 1.5.6)

 * r35930
   Adjust basic_tests.py 12 for compatability with Windows and Python 2.5+.
   Justification:
     The mode 'rw+' is invalid with Python 2.5+ on Windows.
   Votes:
     +1: rhuijben, pburba

 * r36159
   Fix proxying of LOCK and UNLOCK requests via WebDAV proxies.
   Justification:
     With the fix, each slave server tries to field the lock/unlock, resulting
     in competing ideas of what is and isn't locked.
   Votes:
     +1: cmpilato

 * r36256
   Fix potentially awful performance of --ignore-ancestry merges.
   Justification:
     A very simple change which avoids an unneeded walk of the entire merge
     target.  For large WCs the performance improvment can be dramatic.
     See http://svn.haxx.se/dev/archive-2009-03/0067.shtml.
   Notes:
     There is a minor conflict while merging, so use backport branch
     at http://svn.collab.net/repos/svn/branches/1.5.x-r36256.
   Votes:
     +1: pburba

  * r36613, r36615, r36631, r36641
    Avoid potential segfault when dealing with subtree mergeinfo.
    Justification:
      One user reported a segfault due to the way, prior to this change, that
      we set children_with_mergeinfo elements to NULL rather than removing
      the elements from the array, see
      http://svn.haxx.se/dev/archive-2009-03/0382.shtml.
    Notes:
      The fix itself is r36613, r36631, and r36641.  r36615 is a variable
      renaming change that is necessary to avoid a conflict.  r36613 doesn't
      merge cleanly due to text conflicts and the lack of SVN_ERR_ASSERT in
      1.5.x.  A backport branch can be found at
      http://svn.collab.net/repos/svn/branches/1.5.x-r36613.
      
    Votes:
      +1: pburba

 * r36730, r36766, r36775
   Fix issue #3383 'Foreign repository merge can add mergeinfo from the
   foreign repos'
   Justification:
     At best this mergeinfo refers to non-existent paths in the target's
     repos.  At worst the mergeinfo intersects with actual path/revisions
     in the merge target.  The latter might cause real problems, making it
     appear merges have been done that actually have not or vice-versa.
   Notes:
     r36775 is the fix, the other revisions are expansion of an existing
     merge test to cover this issue.  There are some minor conflicts, a
     backport branch can be found at
     http://svn.collab.net/repos/svn/branches/1.5.x-r36775.
   Votes:
     +1: pburba

 * r36851, r36857
   'svnadmin upgrade'-ing pre-1.2 repositories fails for lack of
   'db/format' file.
   Justification:
     'svnadmin upgrade' was designed to allow for this situation, but clearly
     does not.
   Votes:
     +1: cmpilato, danielsh

 * r36879
   Fix a merge bug which can occur when the merge target or a subtree of
   the target has non-inheritable mergeinfo.
   Justification:
     I don't know that anyone has encountered this problem in the wild, but
     the code is clearly incorrect and r36879 expands an existing merge
     test to demonstrate how it could result in incorrect mergeinfo.
   Notes:
     There are a few minor conflicts in merge_tests.py, a backport branch
     resolving these can be found here:
     http://svn.collab.net/repos/svn/branches/1.5.x-r36879
   Votes:
     +1: pburba

 * r36919
   Fix issue #3250 'Repeated merging of conflicting properties fails'.
   Justification:
     This issue was introduced in 1.5.x.
   Notes:
     The merge, conflicts in subversion/libsvn_wc/props.c, a backport branch
     resolving it can be found here:
     http://svn.collab.net/repos/svn/branches/1.5.x-r36919
   Votes:
     +1: stylesen

  * r37072, r37083
    Fix issue #3392 'Parsing error with reverse merges and non-inheritable
    mergeinfo'
    Justification:
      Can cause repeat merges to break in the presence of non-inheritable
      mergeinfo.
    Notes:
      r37072 is a test for the issue, r37083 is the fix.  There is a backport
      branch at http://svn.collab.net/repos/svn/branches/1.5.x-issue3392, but
      it is dependent on r36879 being merged first.  (If this change *must* be
      merged before r36879 I'll create a branch to do so - pburba)
    Votes:
      +1: pburba

Approved changes:
=================
