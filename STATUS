      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.6.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.6.5:
================

Candidate changes:

 * r37478, r37543, r37544, r37545, r37547
   Support using `svnversion` on files and improve some messages printed by
   `svnversion`.
   Justification:
     Some messages printed by `svnversion` are inconsistent and sometimes
     incorrect:
     $ svnversion /usr
     exported
     $ svnversion /bin/ls
     '/bin/ls' not versioned, and not exported
     $ svnversion VERSIONED_FILE
     'VERSIONED_FILE' not versioned, and not exported
     $ svnversion /nonexistent
     subversion/libsvn_wc/questions.c:90: (apr_err=2)
     svn: '/nonexistent' does not exist
     ^^^
     Messages with these revisions backported:
     $ svnversion /usr
     Unversioned directory
     $ svnversion /bin/ls
     Unversioned file
     $ svnversion VERSIONED_FILE
     NUMBER
     $ svnversion /nonexistent
     '/nonexistent' doesn't exist
   Votes:
     +1: arfrever
     -0: rhuijben, cmpilato (Introduces new features and changes output)

 * r37988
   Fix issue #3416, "Cannot add or commit 'dir/@file.txt'"
   Justification:
     Makes Subversion's behaviour regarding peg-revision parsing
     consistent with what The Book describes, and makes all subcommands
     properly deal with filenames starting with the '@' character.
   Branch:
     ^/branches/1.6.x-r37988
   Notes:
     Doesn't merge cleanly (two tree conflicts) from trunk, and needed an API
     change for backport.
   Votes:
     +1: stsp

 * r38004, r38014, r38028, r38122
   Make KWallet window attached to terminal window.
   Justification:
     Without this change, KWallet window can appear behind terminal window
     and is left after killing terminal.
   Votes:
     +1: arfrever
     -0: psamuelson, stsp (without r38122) (code is ugly and Linux-specific -
                                            would getenv("WINDOWID") work instead?)

 * r38166, r38168
   Fix issue #2580, svn+ssh SIGKILLs ssh processes
   Justification:
     Without this fix, svn+ssh:// does not play nicely with ssh
     connection pooling.
   Notes:
     See the issue for (an overwhelming amount of) details.
   Votes:
     +1: stsp, psamuelson

 * r38205
   Allow PLAIN and LOGIN mechanisms with SASL in svnserve.
   Justification:
     Allows authentication via LDAP to actually work, as advertised
     by The Book. If plaintext passwords are a concern, users can
     secure their network links by other means than TLS. We should
     not be making this decision for them.
   Notes:
     See http://svn.haxx.se/users/archive-2009-06/0536.shtml
   Votes:
     +1: stsp, rhuijben

 * r38222, r38223, r38261
   Fix GNOME Keyring with '--non-interactive' option.
   Justification:
     This was introduced in 1.6.x
   Branch:
     ^/branches/1.6.x-r38222
   Notes:
     Merging r38221:r38223 from trunk conflicts in 
     subversion/libsvn_auth_gnome_keyring/gnome_keyring.c.
     r38261 is also merged to the backport branch.
   Votes:
     +1: stylesen

 * r38290, r38293, r38294 
   Fix detection of Apache <2.0.56.
   AP_SERVER_MINORVERSION_NUMBER does not exist in earlier versions.
   But AP_SERVER_MINORVERSION (which is a string) does exist, so use that.
   Justification:
     Some people are stuck with older versions of things.
   Votes:
     +1: arfrever, stsp

 * r38521
   Fix Issue 3453: Building Subversion 1.6 requires GNU grep 2.5.
   Votes:
     +1: arfrever

 * r38417, r38424
   Fix issue #3443 'Obtaining implicit subtree mergeinfo hammers merge
   performance'
   Justification:
     If a merge target has "large" numbers (100's or 1000's) of subtrees
     with explicit mergeinfo, then this change can result in dramatic
     performance improvements, see example described in
     http://subversion.tigris.org/issues/show_bug.cgi?id=3443#desc1
   Notes:     
     Also see http://svn.haxx.se/dev/archive-2009-07/0149.shtml for
     discussion of this change.
   Branch:
     ^/branches/1.6.x-issue3443
   Votes:
     +1: pburba

 * r38142, r38267, r38269, r36788, r37129, r37521, r37591, r37523, r38195,
   r38247, r38325, r38349, r38352
   Fix issue #3432 'Merge can record mergeinfo from natural history gaps'
   Justification:
     Gaps in merge sources can lead to the creation of invalid mergeinfo
     or the removal of valid mergeinfo.
   Notes:     
     The fix itself in r38325 is relatively simple, but recent refactoring
     of the merge code on trunk makes it look a lot worse than it is.
     Unless otherwise noted, all of the following are nominated simply to
     avoid a conflict nightmare:
     r38142, r38267, r38269 - New test and test tweaks for the issue.
     r36788 - Comment changes only.
     r37129 - Scope reduction of a pool.
     r37521 - Minor bug fix and some refactoring.
     r37591 - Comment changes only.
     r37523 - Merge code refactoring.
     r38195 - Pool use cleanup, no functional change.
     r38247 - More merge code refactoring.
     r38349 - Variable rename to avoid shadowing a previous local.
     r38352 - Remove an unused variable.
   Branch:
     ^/branches/1.6.x-issue3432
   Votes:
     +1: pburba

 * r38585
   Fix r37827, which has already been backported and released in 1.6.3.
   Justification:
     Without this, r37827 doesn't in fact fix anything.
   Votes:
     +1: stsp
     
 * r38616, r38617, r38619, r38649
   Fix several missing and extra whitespace issues, mostly in the Windows
   specific code of the test framework. r38649 makes previously hidden command
   output visible when a command fails with a segfault.
   Justification:
     Makes diagnosing test errors a lot easier on Windows
   Votes:
     +1: rhuijben

* r38686-7
   Fix serious bugs in libsvn_ra_svn and svnsync.  (If svnsync errors
   while syncing from svnserve to mod_dav_svn, it commits a
   half-written transaction rather than aborting it.)
   Justification:  
     A potentially large audience of users may unknowingly be creating
     corrupt repository mirrors!
   Votes:
     +1: sussman, rhuijben

* r38000, r38006, r38099, r38100, r38181
  Don't break the working copy when a tree-conflict features an incoming
  replace.
  Justification:
    My colleagues and some clients are really annoyed by this problem.
    Although it's been fixed, it is not in 1.6.x yet, which is met with
    little understanding. Releasing 1.6.5 without this patch would
    probably be some bad publicity...
  Notes:
    If a merge has a delete followed by an add on the same node, and
    also that node is modified locally, svn tried to create two tree-
    conflicts on the same node. That hit an assertion and bailed out,
    breaking the working copy.
    The cmdline test for this issue is merge_replace_causes_tree_conflict
    in merge_tests.py, should become nr. 133.
    (My `make check' with these revisions merged to 1.6.x is clean)
  Votes:
    +1: neels, stsp

Approved changes:
=================

* r36023
  Resolve symlinks when checking ~/.subversion
  Justification:
    It gives flexibility to users to link different .subversion folders.
  Votes:
    +1: stylesen, stsp, rhuijben
