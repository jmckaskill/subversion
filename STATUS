      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.6.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.6.18:

Candidate changes:
==================

 * r1138975, r1138977
   Add a sanity check to get-deps.sh.
   Justification:
     Prevent a false impression as to which version of a dependency will be used.
   Notes:
     r1138975 is the change.  r1138977 reverts accidentally-committed local changes.
     Note that r1138977 replaces the bogusly-committed files rather than merges
     into them.
   Votes:
     +1: danielsh

 * r1144717
   Include SVN_ERR_FS_NOT_FOUND in SVN_ERR_IS_LOCK_ERROR().
   Justification:
     Consistent behaviour of the 1.7 client with 1.6/1.7 servers. (issue #3949)
   Votes:
     +1: danielsh, rhuijben
     -0: julianfoad (Too many loose ends.  Should SVN_ERR_IS_UNLOCK_ERROR()
         get the same treatment?  danielsh on IRC: "I'm not sure I was
         happy with the error/warning issue here.  but patching the server
         makes the reporting be ehwat the test likes (and what 1.7 does)."
         Does the error/warning thing matter?  philipm on IRC: "Does it fix
         multiple targets?"  Have we analyzed whether the test properly
         reflects real life needs?  Could the bug in unlock prevent people from
         removing a lock on a nonexistent path?)

 * r894014, 894029, 896247, 905705
   Use serf_connection_create2 instead of serf_connection_create so that
   1.6.x will be prepared to work with serf's upcoming ssl tunnel support
   (https over http proxy).
   Justification:
     Make use of new feature provided by the serf library, stop using
     an API that will be deprecated (although isn't yet).
   Note: this change doesn't require a change of the minimum serf requirements
     for this branch. r894014 is the main revision, the others are follow-up
     fixes.
   Votes:
     +1: lgo
     +0: gstein (haven't reviewed these specific revisions yet)

 * r896893, r896901, r915036(part)
   Where references to the old subversion.tigris.org web site appear outside
   the source tree, update them to refer to subversion.apache.org instead.
   Justification:
     Users should be directed to the current web site.
   Branch:
     ^/subversion/branches/1.6.x-r896893
   Notes:
     These references appear in
     - the 'svn help' output;
     - the HTTP GET response for a collection ("Powered by ..." for HTML
       mode or "<svn href=...>" for XML mode);
     - the 'README.txt' and 'conf/svnserve.conf' files of a newly created
       repository;
     - the man pages;
     - the Doxygen front page;
     - the 'psvn.el' emacs plug-in;
     - the installed ctypes-python bindings 'egg-info' file.
   Votes:
     +1: julianfoad, stsp

 * r1154733
   Correctly position buffer pointer when resuming an aborted transfer in serf.
   Justification:
     Invalid pointer operation that causes at least datastream corruption.
   Votes:
     +1: rhuijben, stsp

 * r1166555, r1166678
   Fix a crash in ra_svn SASL authentication.
   Justification:
     See http://svn.haxx.se/dev/archive-2011-09/0182.shtml
   Votes:
     +1: stsp, philip

 * r1230212
   Fix for large files on 32-bit systems.
   Justification:
     Can corrupt FSFS repositories.
   Branch:
     ^/subversion/branches/1.6.x-r1230212
   Votes:
     +1: philip, stsp

Veto-blocked changes:
=====================

 * r877552, r877617, r877618, r877619, r877621
   Support using `svnversion` on files and improve some messages printed by
   `svnversion`.
   Justification:
     Some messages printed by `svnversion` are inconsistent and sometimes
     incorrect:
     $ svnversion /usr
     exported
     $ svnversion /bin/ls
     '/bin/ls' not versioned, and not exported
     $ svnversion VERSIONED_FILE
     'VERSIONED_FILE' not versioned, and not exported
     $ svnversion /nonexistent
     subversion/libsvn_wc/questions.c:90: (apr_err=2)
     svn: '/nonexistent' does not exist
     ^^^
     Messages with these revisions backported:
     $ svnversion /usr
     Unversioned directory
     $ svnversion /bin/ls
     Unversioned file
     $ svnversion VERSIONED_FILE
     NUMBER
     $ svnversion /nonexistent
     '/nonexistent' doesn't exist
   Votes:
     +1: arfrever
     -0: cmpilato (Introduces new features and changes output)
     -1: rhuijben (Introduces new features and changes output;
                   I think it should be removed from STATUS)

 * r878078, r878088, r878102, r878196
   Make KWallet window attached to terminal window.
   Justification:
     Without this change, KWallet window can appear behind terminal window
     and is left after killing terminal.
   Votes:
     +1: arfrever
     -0: peters
     -1: rhuijben ("/proc/%ld/stat" is ugly and Linux-specific -
                   would just getenv("WINDOWID") work instead?)
     -1: stsp (I've removed the Linux-specific code from trunk in r1002144
               and r1002151, so trunk code only relies on getenv("WINDOWID").
               I would +1 a backport that also merges these revisions).

 * r916286, r917512
   Fixes failing commmits (with vague error messages) seen on client
   side for WebDAV proxy configurations such as the following (note
   the trailing slash at the end of '/svn/'):
   
      <Location /svn/>
         DAV svn
         SVNParentPath /repositories
         # Trailing slash on the master URI also can cause the confusion.
         SVNMasterURI http://master/svn/
         SVNAdvertiseV2Protocol Off
      </Location>
   
   Error message shows up like so:
   
      svn: Commit failed (details follow):
      svn: MKACTIVITY of '/svn/demujin/!svn/act/4b6d547c-018d-4e02-9d3f-2b28\
      3076cc06': Could not read status line: connection was closed by server\
       (http://localhost)
   
   Notes:
     Depends on the r878590 group for a conflict-free backport.
   Justification:
     Fixes failed commits.
   Votes:
     +1: kameshj
     -1: pburba (the net change of r916286 and r917512 relies on the 1.7 API
         svn_uri_canonicalize.  This API does exist in 1.6, but only for
         testing purposes, see subversion\libsvn_subr\private_uri.h and
         http://svn.apache.org/viewvc?view=revision&revision=876419
         So problem #1: This won't build.
         
         Problem #2: Since I first made this veto, further changes were
         backported which prevent a clean merge.)

 * r933194
   Fix for issue #2753
   SVNListParentPath feature doesn't work when svn authz is used.
   Justification:
     This issue is waiting for resolution for more than 3 years.
   Notes:
     See discussion at http://svn.haxx.se/dev/archive-2010-04/0275.shtml
   Votes:
     -1: cmpilato (pending results of aforemented discussion)

 * r950445, 950468
   Fix for issue #2591 "'svnadmin hotcopy' does not replicate symlinks".
   Justification:
     This fix helps server administrators who has common files symlinked
     across their repositories and take frequent backups of their repos
     using svnadmin hotcopy.
   Notes:
     r950445 fixes the issue and r950468 is a test for this issue.
     In r967173 on trunk, svn_io_dir_walk()'s original functionality
     was restored, and svn_io_dir_walk2() introduced to also cover
     symlinks.
   Votes:
     +1: stylesen,
     -0: julianfoad (Tested and works fine, but changes semantics of
           svn_io_dir_walk() which we should not do in a back-port.
           Discussing on list.)
     -1: cmpilato (Changes semantics of svn_io_dir_walk()).

 * r996383
   Add shorthands for 'svn --accept=%s' values.
   Justication:
     Require less typing to resolve conflicts.
   Votes:
     +1: danielsh, blair
     -0: rhuijben (Should we apply a change like this in a patch release?)
     -0: stsp (I'd say no...)
     -0: pburba (I see no harm, but have to agree with stsp)
     -1: cmpilato (to the degree that our command-line syntax is an API,
         this would prevent rollback to prior 1.6.x versions without
         changes to scripts which call this API)

 * r879766
   Fix issue #3498: Subversion password stores freeze Eclipse
   Justification:
     All subclipse users are in great need of this.
   Branch:
     Resolves a minor conflict in libsvn_auth_gnome_keyring/gnome_keyring.c
     where the code changed was refactored on trunk.
     ^/subversion/branches/1.6.x-r39692
   Votes:
     +1: stylesen
     +0: julianfoad (reviewed, not tested)
     -0: rhuijben (needs more explanation: The not-interactive and no
                   callback code paths should be more similar if the code
                   works correctly. I think the not interactive code path
                   needs the same fix).
     -1: markphip (tested multiple builds of this and never saw it work).


Approved changes:
=================

 * r966167
   Allow passing --with-jdk to gen-make.py
   Branch:
     ^/subversion/branches/1.6.x-r966167
   Justification:
     On 64 bit windows, looking in the registry will not always return the
     right jdk to compile Subversion with. This patch allows specifying
     a specific jdk.
     (Which then fixes building 1.6.x on the Windows buildbots)
   Votes:
     +1: rhuijben, pburba, stsp

 * r1151911
   Fix description of svndumpfilter's --targets option.
   Votes:
     +1: cmpilato, rhuijben, stsp

 * r1152282
   Improve performance of "log -g".
   Branch:
     1.6.x-r1152282
   Justification:
     Can be too slow to be useable.
   Votes:
     +1: philip, rhuijben, stsp
