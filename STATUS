     * * * * * * * * * * * * * * * * * * * * * * * * * * * *
     *                                                     *
     *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
     *                                                     *
     * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.5.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.


Candidate changes for 1.5.3:
============================

 * r33201, r33212
   Fix a bug whereby 'svn mv' could cause the client to loop forever.
   Justification: hanging forever while memory grows is double-plus ungood.
   Votes:
     +1: kfogel, danielsh

 * r32771
   po-update.sh: Search for messages in svn_fs_util.h.
   Justification:
     po-update.sh without this change doesn't add messages from svn_fs_util.h
     to .po files, so these messages are untranslated.
   Votes:
     +1: arfrever, gstein

 * r32968, r32975
   Fix bug which occurs when a merge adds explicit mergeinfo to a subtree that
   had no explicit mergeinfo prior to the merge.  This new mergeinfo could
   obstruct any mergeinfo the path previously inherited and the new path
   was not getting mergeinfo set that described the merge itself -- See 
   http://subversion.tigris.org/servlets/ReadMsg?listName=dev&msgNo=142460.
   Notes:
     r32968 is a new test for this problem and r32975 is the fix.
   Justification:
     Incorrect mergeinfo results when this bug is encountered and it has
     already been encountered in our own repository as described in the
     aforementioned thread.
   Votes:
     +1: pburba
     +0: arfrever

 * r32977
   Fix the current early bailout of 'svn log' as exhibited during
   `svn log -gq -r31828 file:///usr/local/svn/subversion'.
   Justification:
     Server logic fault tolerance.  Code mo'-betta-ness.
   Votes:
     +1: cmpilato

 * r29969, r33013, r33016, r33022, r33112
   Fix a merge bug and greatly improve merge performance in a common
   merge use case.
   Notes:
     r29969 is a small bit of merge code cleanup that has no functional
     effect but prevents a conflict when r33112 is merged. r33013, r33016,
     and r33022 are a new merge test and some tweaks to that test. r33112
     is the fix itself.
   Justification:
     The minor bug is described here,
     http://subversion.tigris.org/servlets/ReadMsg?list=dev&&msgNo=142849,
     but probably more important is the performance improvement. A while
     back glasser pointed out that the code to filter self-referential
     mergeinfo was a performance hog, see 
     http://svn.haxx.se/dev/archive-2008-02/0206.shtml, and made some
     suggestions to improve performance.  r33112 implements glasser's
     suggestions, which speeds up merge significantly in some cases,
     see http://subversion.tigris.org/servlets/ReadMsg?list=dev&msgNo=143030.
   Votes:
     +1: pburba

 * r30257, r33024, r33026
   Don't try to filter natural history from added mergeinfo during
   reverse merges.
   Notes:
     r30257 is the urelated removal of an unused private struct in merge.c,
     not required but avoids a conflict with r33024.  r33024 is a change to
     include more information in the merge command baton, it results in no
     functional change itself but r33026 relies on this new information.
     There's a single trailing whitespace conflict during merge of r33024.
     r33026 is the core change.
   Justification:
     A reverse merge should simply return mergeinfo to a previous
     representation -- see
     http://subversion.tigris.org/servlets/ReadMsg?listName=dev&msgNo=142777.
     This change also improves reverse merge performance as it eliminates
     some unnecessary communication with the repository.
   Votes:
     +1: pburba

 * r33136, r33137
   Fix issue #3285 - 'svn log -g' mistakes property change for
   mergeinfo removal.
   Notes:
     r33136 adds the regression test.  r33137 is the fix.
   Justification:
     This is a regression from 1.5.0.
   Votes:
     +1: cmpilato, pburba

 * r33173
   ra_serf: Fix the svn_ra_replay API, which got broken when svn_ra_replay_range
   was added. This API is not used anymore in svnsync. Bug was reported and fix 
   tested by durin42 over IRC.
   Notes:
     There's a small trailing whitespace conflict during merge.
   Justification:
     Regression introduced in 1.5.0.
   Votes:     
     +1: lgo, gstein

 * r33465
   Reuse ra_sessions where possible during merge. This reduces the number of
   connections opened during merge drastically (to a third) thereby improving
   performance.
   Notes:
     Created backport branch branches/1.5.x-r33465 to facilitate merging.
   Justification:
     Not a critical issue, but any performance improvements to 'svn merge' are 
     more than welcome.
   Votes:
     +1: lgo, gstein


Approved changes:
=================

 * r33447
   libsvn_subr: Remove actual disk IO from svn_path_get_absolute.
   Notes:
     This removes the automatic casing fixes from svn_path_get_absolute. These
     casing fixes where not part of the documented behavior and where not
     expected  by the code using svn_path_get_absolute.
     There is a backport branch with this change applied at:
     http://svn.collab.net/repos/svn/branches/1.5.x-r33447
     (The code has moved to another file in trunk)
   Justification:
     This removes an enourmous slowdown on the merge code on Windows. 
     (>30% on my tests).
   Votes:
     +1: rhuijben, gstein, lgo
