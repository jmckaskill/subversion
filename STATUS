      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.7.x line.

See http://subversion.apache.org/docs/community-guide/releasing.html#release-stabilization
for details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.7.0:

Candidate changes:
==================

 * r1146131 and followups
   Add svn_fs_verify() and implement rep-cache verification in FSFS using it.
   Branch:
     1.7.x-fs-verify
   Justification:
     Would be nice to extend verify already in 1.7.x.
   Notes:
     This does not include progress reporting, since that is nominated
     separately.
   Votes:
     +1: rhuijben
     +0: danielsh
     +0: gstein (progress would be nice)

 * fs-progress branch
   Notes:
     Depends on the r1146131 group (1.7.x-fs-verify).
   Branch:
     fs-progress
   Justification:
     Provide feedback during 'svnadmin verify'.
     Avoid an API change in 1.8.
   Notes:
     If this proposal passes, the docstrings @since would have to be fixed
     in a new commit.
   Votes:
     +0: danielsh

 * r1147540, r1147541
   Remove unused variables in build system.
   Justification:
     Backporting of future changes will be easier.
   Votes:
     +1: arfrever

 * r1148083, r1148094
   Preload libsvn_auth_gnome_keyring and libsvn_auth_kwallet in locally built
   executables.
   Justification:
     Version mismatch errors would occur during trying to use locally built
     executables when a different version of Subversion was installed
     in /usr/lib.
   Votes:
     +1: arfrever, philip

 * r1148992
   Print error messages about failures of dynamic loading of libraries when
   SVN_DEBUG_DSO is defined instead of never.
   Justification:
     Suboptimal r1148374 was already backported in r1148488.
   Votes:
     +1: arfrever
     -0: rhuijben (A library shouldn't just write things to stderr. This needs
                   proper error handling instead. And besides I doubt anyone is
                   going to use this define (No veto!))
     -0: philip (changed my mind, I don't think this is needed on the branch)
     -0: stsp (Arfrever, can you please explain precisely what use case you
               have for this code? Why do you need it in the release, or
               on trunk, for that matter?)

 * r1149401
   Fail early when attempting to build swig-pl after configuring
   --without-swig.
   Justification:
     Convert mysterious error messages to a clean early exit.
   Votes:
     +1: danielsh, arfrever

 * r1149627
   Adjust library order in build.conf for kwallet/gnome-keyring.
   Justification:
     Fixes "make install DESTDIR=..." which is used by packagers.  I suspect
     this is not a regression.
   Votes:
     +1: philip, danielsh
     +0: cmpilato
     
 * r1150327
   Report not finding txn roots produce a 404 error in mod_dav_svn.
   Justification:
     Removes unneeded errors that were suppressed before.
   Notes:
     This error is invisible to users without the r1150254 group.
   Votes:
     +1: rhuijben
     +0: danielsh
     
 * r1150254, r1150260, r1150261, r1150266
   Return errors by composing instead of ignoring them.
   Justification:
     Returning more errors makes it much easier to diagnose problems.
   Notes:
     This patchgroup contains a few patches that together enable seeing
     a few previous invisible error chains.
     r1150254: Improve error handling in svn_wc__internal_transmit_text_deltas.
     r1150260: Return txn unlock errors from fsfs.
     r1150261: Return txn abort errors when the editor decides to abort itself.
     r1150266: Return editor abort errors when the commit processing aborts.
   Votes:
     +1: rhuijben (after r1150302 and r1150327 are backported)
     +1: danielsh
     
 * r1150368
   Resolve an obscure locked file problem when aborting a commit.
   Justification:
     Transaction cleanup should succeed or temp files will accumulate
     on a server. And locks (the needle file) should be released as soon as
     possible.
   Notes:
     rhuijben: This bug triggered my weekend search for locked files problems.
   Votes:
     +1: rhuijben, cmpilato
     +0: danielsh (we shouldn't depend on libsvn_client fixes to avoid
                   accumulating tempfiles on the server)

 * r1148043, r1151055
   Allow building with serf trunk on windows.
   Votes:
     +0: danielsh (r1151055 only)
     +1: pburba

 * r1152189, r1152190
   Fix an assertion on copying nodes that are not presence normal.
   Branch:
     1.7.x-r1152189
   Justification:
     Easy to trigger problem in tree conflict situations.
   Votes:
     +1: rhuijben
     +1: philip (the branch)

 * r1152282
   Improve performance of "log -g".
   Justification:
     Can be too slow to be useable.
   Votes:
     +1: philip, pburba

 * r1153138, r1153141
   Don't CHECKOUT added directories when using a HTTPv1 server.
   Justification:
     Getting a HTTP 500 error while committing new directories is not nice.
   Notes:
     r1153141 removes an accidentally added SVN_DBG() from r1153138.
   Votes:
     +1: rhuijben


Veto-blocked changes:
=====================

 * 1.7.x-neon-default branch
   Make neon the default http library.
   Justification:
     Serf's relative stability is inferior to that of the rest of
     Subversion, and for such a critical piece of our architecture,
     this is unacceptable.

     Subversion package producers have voiced a vote of no confidence,
     and plan to ship with Neon as the default:
     http://svn.haxx.se/dev/archive-2011-07/0751.shtml
     http://svn.haxx.se/dev/archive-2011-06/0796.shtml

     Bug reports of the crash variety continue to be reported:
     http://svn.haxx.se/dev/archive-2011-07/0735.shtml

     Serf floods the target server with orders of magniture more
     requests, resulting in undesirable server log bloat.

     Further, the promise of performance has not been realized:
     https://ctf.open.collab.net/sf/wiki/do/viewPage/projects.csvn/wiki/HTTPv2 

     (As an aside, Serf's potential as a platform for future
     improvement remains unproven and doubtful.  For example, HTTPv2
     removes canonical resource URLs, which works against the caching
     proxy concept that seems to be the strongest argument in favor of
     Serf's approach.  But that's not strictly germane here.)

     rhuijben: Trivial problems like r1153138 should have been fixed a long
     time ago if we don't want to delay releasing 1.7 on serf.

     markphip: I understand why *we* would want Serf as default, so we can
     make it better, but it goes against all of the other conservatism in
     this project to make this the default when we *know* it is less stable,
     potentially lacks some of the features and is generally considerably
     slower than Neon.

   Votes:
     +1: philip, cmpilato, rhuijben, markphip
     -1: gstein (I see no explanation for why "serf is not ready")


Approved changes:
=================

 * r1150302
   Avoid closing fs txns multiple times.
   Justification:
     We should follow our own api documentation.
   Notes:
     This error is invisible to users without the r1150254 group (upon which
     this revision depends for a clean merge).
   Votes:
     +1: rhuijben, danielsh, cmpilato

 * r1152726
   Make sure repository root URLs in ra_neon are canonical.
   Justification:
     A repository root at / can cause ra_neon to assert.
   Votes:
     +1: philip, cmpilato, rhuijben 

 * r1153416  
   Fix access to uninitialized variable in svn_wc_status3().
   Justification:
     Unpredicitable behavior on error condition.
   Votes:
     +1: ivan, rhuijben, philip
