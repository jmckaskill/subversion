     * * * * * * * * * * * * * * * * * * * * * * * * * * * *
     *                                                     *
     *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
     *                                                     *
     * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.5.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.


Candidate changes for 1.5.5:
============================

 * r30257, r33024, r33026
   Don't try to filter natural history from added mergeinfo during
   reverse merges.
   Notes:
     r30257 is the urelated removal of an unused private struct in merge.c,
     not required but avoids a conflict with r33024.  r33024 is a change to
     include more information in the merge command baton, it results in no
     functional change itself but r33026 relies on this new information.
     There's a single trailing whitespace conflict during merge of r33024.
     r33026 is the core change.
   Justification:
     A reverse merge should simply return mergeinfo to a previous
     representation -- see
     http://subversion.tigris.org/servlets/ReadMsg?listName=dev&msgNo=142777.
     This change also improves reverse merge performance as it eliminates
     some unnecessary communication with the repository.
   Votes:
     +1: pburba

 * r34082, r34096, r34545
   Fix issue #3275 by making WebDAV proxy slave servers pass through
   any GET or PROPFIND requests aimed at working resource URLs, even
   though those requests are read-only.  Why?  It does no good for the
   slave server to try to answer a read request aimed at an
   uncommitted transaction when said transaction's data lives solely
   on the master server.
   Votes:
     +1: cmpilato

 * r34385, r34393
   Fix broken merge when the merge target's natural history includes
   resurrections.
   Notes:
     r34385 is a new test.  r34393 is the fix.
   Justification:
     This problem was encountered 'in the wild' - see
     http://svn.haxx.se/dev/archive-2008-11/0618.shtml.  When encountered
     cherry harvest merges are completely broken.
   Votes:
     +1: pburba

 * r34432
   Follow-up to r32975, which is already backported and had a bug, see
   http://subversion.tigris.org/servlets/ReadMsg?listName=dev&msgNo=145757.
   Notes:
     There is a very minor whitespace conflict in merge_props_changed().
   Justification:
     r32975 fixed a bug which occurred when a merge added explicit mergeinfo
     to a subtree that had no explicit mergeinfo prior to the merge.  But
     this fix itself had a bug which could result in an error during a
     --dry-run merge, r34432 fixes this.
   Votes:
     +1: pburba

 * r34091, r34094, r34244, r34256, r34306
   Various svn merge --reintegrate improvements.
   Notes:
     There is a backport branch for these changes at
     http://svn.collab.net/repos/svn/branches/1.5.x-reintegrate-improvements.
   Justification:
     Prior to these changes reintegrate would not work if the merge source
     had any subtree mergeinfo.  Since subtree mergeinfo is quite common,
     this meant reintegrate was largely unuseable.  With these changes
     reintegrate will work as long as the source's subtree mergeinfo and
     implicit mergeinfo reflect the fact that the reintegrate target was
     previously merged uniformly to the source for some contiguous revision
     range starting at the revision the source was branched from the target.
     These changes also improve the notoriously vague error message which
     occurred when reintegrate was thwarted by subtree mergeinfo.
   Votes:
     +1: pburba

 * r34506
   Fix a pair of bugs in the BDB backend's node-origins cache-miss fallback
   logic, one of which can cause a SEGFAULT, the other of which can result
   in an incorrect return value.
   Votes:
     +1: cmpilato, glasser

 * r34560, r34562
   Fix a bug which occurs when a merge adds a subtree as an immediate child
   of the merge target when the merge target has non-inheritable mergeinfo
   and is also the current working directory.  If all these planets align
   properly then invalid mergeinfo is created on the added subtree.
   Notes:
     The SVN_ERR_ASSERT() in r34562 needs to be changed to an assert()
     as the former doesn't exist on 1.5.x.
   Justification:
     Rare bug, but it results in incorrect mergeinfo.
   Votes:
     +1: pburba
     
 * r34184, r34585
   Don't create explicit mergeinfo on a WC-to-WC move/copy destination
   unless the source already had some.
   Notes:
     r34184 is the main fix, r34585 is a minor follow-up that tweaks a
     test that is failing on trunk for unlreated reasons, but not on
     1.5.x.  There were some minor conflicts on libsvn_client\copy.c,
     copy_tests.py, and merge_tests.py.  Mostly due to whitespace differences
     and some changes to the tests that have not been backported yet.
     A backport branch can be found at:
     http://svn.collab.net/repos/svn/branches/1.5.x-34184
   Justification:
     WC-to-WC copy/move's creation of explicit, usually empty, mergeinfo on
     the destination path isn't technically a bug, but it is arguably the
     primary cause of excessive subtree mergeinfo, which has caused a lot of
     user frustration and confusion, makes merges slower, and has been a
     factor in a number of serious bugs (see issue #3067 for example).
     See this thread for more:
     subversion.tigris.org/ds/viewMessage.do?dsForumId=462&dsMessageId=98145.
   Votes:
     +1: pburba, cmpilato

Approved changes:
=================
