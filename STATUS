     * * * * * * * * * * * * * * * * * * * * * * * * * * * *
     *                                                     *
     *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
     *                                                     *
     * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.5.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.


Candidate changes for 1.5.5:
============================

 * r30257, r33024, r33026
   Don't try to filter natural history from added mergeinfo during
   reverse merges.
   Notes:
     r30257 is the urelated removal of an unused private struct in merge.c,
     not required but avoids a conflict with r33024.  r33024 is a change to
     include more information in the merge command baton, it results in no
     functional change itself but r33026 relies on this new information.
     There's a single trailing whitespace conflict during merge of r33024.
     r33026 is the core change.  To solve the specific problem noted in
     http://subversion.tigris.org/servlets/ReadMsg?listName=dev&msgNo=142777,
     this group relies upon the r34547 group.
   Justification:
     A reverse merge should simply return mergeinfo to a previous
     representation -- see
     http://subversion.tigris.org/servlets/ReadMsg?listName=dev&msgNo=142777.
     This change also improves reverse merge performance as it eliminates
     some unnecessary communication with the repository.
   Votes:
     +1: pburba, kameshj

 * r34082, r34096, r34545
   Fix issue #3275 by making WebDAV proxy slave servers pass through
   any GET or PROPFIND requests aimed at working resource URLs, even
   though those requests are read-only.  Why?  It does no good for the
   slave server to try to answer a read request aimed at an
   uncommitted transaction when said transaction's data lives solely
   on the master server.
   Votes:
     +1: cmpilato

 * r34385, r34393
   Fix broken merge when the merge target's natural history includes
   resurrections.
   Notes:
     r34385 is a new test.  r34393 is the fix.
   Justification:
     This problem was encountered 'in the wild' - see
     http://svn.haxx.se/dev/archive-2008-11/0618.shtml.  When encountered
     cherry harvest merges are completely broken.
   Votes:
     +1: pburba

 * r34432, r34669
   Follow-up to r32975, which is already backported and had a bug, see
   http://subversion.tigris.org/servlets/ReadMsg?listName=dev&msgNo=145757.
   Notes:
     r34432 is the fix, r34669 adjusts an existing merge test to demonstrate
     the bug.  There is a very minor whitespace conflict in
     merge_props_changed() in r34432 and a conflict with r34669 due to the
     usual problem that not all the merge tests are backported.
   Branch:
     ^/branches/1.5.x-34432
   Justification:
     r32975 fixed a bug which occurred when a merge added explicit mergeinfo
     to a subtree that had no explicit mergeinfo prior to the merge.  But
     this fix itself had a bug which could result in an error during a
     --dry-run merge, r34432 fixes this.
   Votes:
     +1: pburba, kameshj

 * r34091, r34094, r34244, r34256, r34306
   Various svn merge --reintegrate improvements.
   Branch:
     ^/branches/1.5.x-reintegrate-improvements
   Justification:
     Prior to these changes reintegrate would not work if the merge source
     had any subtree mergeinfo.  Since subtree mergeinfo is quite common,
     this meant reintegrate was largely unuseable.  With these changes
     reintegrate will work as long as the source's subtree mergeinfo and
     implicit mergeinfo reflect the fact that the reintegrate target was
     previously merged uniformly to the source for some contiguous revision
     range starting at the revision the source was branched from the target.
     These changes also improve the notoriously vague error message which
     occurred when reintegrate was thwarted by subtree mergeinfo.
   Votes:
     +1: pburba

 * r34560, r34562
   Fix a bug which occurs when a merge adds a subtree as an immediate child
   of the merge target when the merge target has non-inheritable mergeinfo
   and is also the current working directory.  If all these planets align
   properly then invalid mergeinfo is created on the added subtree.
   Notes:
     The SVN_ERR_ASSERT() in r34562 needs to be changed to an assert()
     as the former doesn't exist on 1.5.x.
   Justification:
     Rare bug, but it results in incorrect mergeinfo.
   Votes:
     +1: pburba
     
 * r34547
   Fix issue #3323 'Mergeinfo deleted by a merge should disappear'
   Notes:
     Will conflict if r34432 is not applied first.  Note that r34547 does
     not depend on r34432 to function properly, so can be backported by
     itself if necessary.
   Justification:
     A merge that should remove subtree mergeinfo doesn't actually do so.
     The subtree mergeinfo is initially deleted, but then is replaced by
     mergeinfo describing the merge itself.  This isn't a very common
     situation, see http://subversion.tigris.org/issues/show_bug.cgi?id=3323,
     but anything that reduces the amount of explicit subtree mergeinfo
     is a good thing.
   Votes:
     +1: pburba, kameshj

Approved changes:
=================
