      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.6.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.6.1:
================

Candidate changes:

  * r36613, r36615, r36631, r36641
    Avoid potential segfault when dealing with subtree mergeinfo.
    Justification:
      One user reported a segfault due to the way, prior to this change, that
      we set children_with_mergeinfo elements to NULL rather than removing
      the elements from the array, see
      http://svn.haxx.se/dev/archive-2009-03/0382.shtml.
    Notes:
      While segfaults are serious, this one is not sufficient by itself to
      hold up 1.6.0 given that it is not a regression from 1.5.x, no one has
      been able to produce a reproduction recipe, and only one user has
      reported it (and they were able to work around it).  The fix itself is
      r36613, r36631, and r36641.  r36615 is a variable renaming change that
      is necessary to avoid a conflict.
    Votes:
      +1: pburba

 * r36178
   External merge-tool improvements.
   Justification:
     Makes automated merging easier, and also fixes a bug where a file
     which should be marked conflicted was consired sucessfully merged
     because the tool's exit status was not properly evaluated.
   Notes:
     The bug is only triggered when using an external merge tool with the
     --accept=launch option. I don't think we need to hold 1.6.0 on this.
   Votes:
     -0: rhuijben (Looks like a feature enhancement for a patch release)
     +1: stsp (I'd say it's a fix for a feature we already support (merge
               under control of external non-interactive tool), albeit
               the feature is currently so buggy that you can't use it.)
     
 * r36149-r36151, r36156
   Fix starting apache httpd in daemon mode from python versions with
   win32process support. (Found after upgrading my python to 2.6.1)
   Justification:
     Without this fix I can't run the testsuite as non-admin after
     installing 2.6.1.
   Notes:
     r36149 and r36150 contain the actual fix and r36151 and r36156 clean up
     the mess I left after performing only partial commits.
   Votes:
     +1: rhuijben, arfrever

 * r36509
   Don't contact the server asking about implicit mergeinfo when the
   explicit mergeinfo tells us all we need to know about what to merge
   and what not to.
   Justification:
     Avoids needless communication with the server in some use cases.  For
     users with lots of subtree mergeinfo and slow network connections
     the performance improvement should be quite significant.
   Votes:
     +1: pburba

 * r36422
   Make serf report a base_checksum to apply_textdelta.
   Justification:     
     Enables some extra checking on what to update from the delta editor. This
     value is provided by ra_local and ra_svn, but not by neon and serf.
     (The information is sent in the http response since well before 1.0)
   Votes:
     +1: rhuijben, arfrever
     
 * r36389-r36390, r36412, r36421, r36423
   Instead of verifying the pristine copy of a file before updating it, 
   calculate and verify the used text base (base/revert/copied) stream while
   applying the delta using the new stream checksum api. It also enables the
   verification of files where the workingcopy has no recorded checksum.
   Justification:
     This allows verifying and updating pristine files in a single pass, where
     we used two separate passes over the pristine file before.
     This enhances update performance on large files and most likely reduces
     the amount of work on-access virusscanners do on our files.
   Notes:
     r36389 contains the actual change. r36412 is a code cleanup patch.
     r36421,r36423 re-enable checking pristine files when apply_textdelta
     doesn't send a base checksum. (neon and serf before r36422).
     r36390 is a space before paren cleanup of update_editor.c needed for a
     clean merge.     
   Votes:
     +1: rhuijben, arfrever

 * r36741, r36742
   Improve detection of Berkeley DB.
   Votes:
     +1: arfrever
  
 * r36747
   Fix broken svn_subst_translate_cstring2 function: Close the destination
   stream to flush unwritten data.
   Justification:
     Without this fix svn_subst_translate_cstring2() function does not work as
     expected in most situations. (The final translate_chunk call of the
     translated stream was not called from the stream close function).
   Votes:
     +1: zhakov, rhuijben

 * r36763
   Fix escaping of separator characters in auto-props.
   Justification:
     This is a long pending issue which exists in older versions of subversion
     and fixed now. Will help many users if we release it early.
   Votes:
     +1: stylesen

 * r36086, r36767, r36769
   Fix a svnmerge.py regression.
   Justification:
     In 1.6.x an error is raised if attempting to delete a non-existent
     property, so svnmerge.py shouldn't attempt that.
   Notes:
     r36086 is the fix, the other revisions are minor cleanup of r36086.
   Votes:
     +1: pburba, blair

 * r36730, r36766, r36775
   Fix issue #3383 'Foreign repository merge can add mergeinfo from the
   foreign repos'
   Justification:
     At best this mergeinfo refers to non-existent paths in the target's
     repos.  At worst the mergeinfo intersects with actual path/revisions
     in the merge target.  The latter might cause real problems, making it
     appear merges have been done that actually have not or vice-versa.
   Notes:
     r36775 is the fix, the other revisions are expansion of an existing
     merge test to cover this issue.
   Votes:
     +1: pburba

Approved changes:
=================
