      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.6.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.6.12:
================

Candidate changes:

 * r879766
   Fix issue #3498: Subversion password stores freeze Eclipse
   Justification:
     All subclipse users are in great need of this.
   Branch:
     Resolves a minor conflict in libsvn_auth_gnome_keyring/gnome_keyring.c
     where the code changed was refactored on trunk.
     ^/subversion/branches/1.6.x-r39692
   Votes:
     +1: stylesen
     +0: julianfoad (reviewed, not tested)
     -0: rhuijben (needs more explanation: The not-interactive and no
                   callback code paths should be more similar if the code
                   works correctly. I think the not interactive code path
                   needs the same fix).

 * r879902, r879916
   Disables file synchronization mutexes in fsfs on Windows. These mutexes
   were added to make POSIX systems lock files that were in use by other
   threads in the same process.
   
   Windows implements per filehandle locking, so it doesn't need these
   locks. We usually see the opposite problem in Subversion on Windows.
   Justification:
     This gives a measurable performance boost (5% decrease in running time
     on running the testsuite in parallel mode (on trunk). The difference
     will be bigger when measured on a real subversion server like one
     running apache or svnserve.
   Votes:
     +1: rhuijben, steveking

 * r879966, r879971
   Reduce the lifetime of the rep-sharing database handles in FSFS to avoid
   having writers blocking readers, and update that database outside the
   general FSFS write lock.  This address issue #3506.
   Justification:
     The performance problems and outright failures of the current code
     are hurting the ASF repository, and presumably other high-concurrency
     repositories, too, when large commits occur.
   Branch:
     ^/subversion/branches/1.6.x-issue3506
   Votes:
     +1: danielsh, cmpilato

 * r934599, r934603
   Fix a concurrency issue in the FSFS rep-cache code.  This indirectly
   concerns issue #3506.
   Justification:
     Opening the DB twice (and overwriting the handle) is undesired.
   Notes:
     r934599 updates the svn_atomic__init_once() interface.
     r934603 is the actual fix.
   Notes:
     Depends on the r879966 group, which does not merge cleanly.
   Branch:
     ^/subversion/branches/1.6.x-issue3506-init_once
     (based on ^/subversion/branches/1.6.x-issue3506)
   Votes:
     +1: danielsh

 * r898048
   Extend the Windows only, crypto api verification of server certificates
   to check for certificate revocation. Also simplify the code by making
   Windows do the chain verification instead of just taking an intermediate
   result.
   Justification:
     It's better to be safe, when we are talking about SSL.
   Votes:
     +1: rhuijben, steveking

 * r878590, r878607, r878625, r878626, r878627
   In trunk we optimized the common case of 'find-and-replace with same uri'
   of proxied content thanks to issue 3445 "WebDAV proxy code munging user
   data".
   r878590 is just a change that adds FIXME marker to code comment. We take it
   to avoid spurious conflicts with other revisions.
   r878607 Special cases no-op find and replace.
   "r878625, r878626, r878627" are follow-up to r878607 and the other long 
   pending Master info leak to the clients.
   Justification:
     1. This group has the most common 'optimization' fix of *not* groking the
        proxied response to find and replace with same string.
     2. Fixes the master information leak via the Location header.
     3. Need this to be ported for the other defect to be ported
        without conflict.
   Votes:
     +1: kameshj
     -0: julianfoad (seem to be multiple changes here for different reasons -
           at least issue '3445 and an optimization and an information leak;
           r878607 log msg says it fixes bugs but it's not clear what bugs;
           don't know how to tell whether justification 1 is significant;
           justifications don't seem to refer to issue #3445. Please can we
           separate these changes and clearly describe each one? And update
           the r878607 log msg.)

 * r916286, r917512
   ???
   Notes:
     This backport depends on the r878590 group only for the conflict free port.
   Justification:
     Vague commit error when server has been configured with <Location /svn/>
     and write through proxy.
   Votes:
     +1: kameshj

 * r917523
   ???
   Notes:
     This backport depends on the r878590 and r916286 groups only for the
     conflict free port.
   Justification:
     If the configured slave url has the *encodable* characters *write through*
     is not happening rather commit happens in slave itself.
   Votes:
     +1: kameshj

 * r935631
   Fix one of the sanity checks in the 'svn merge --reintegrate' logic.
   Justification:
     Sanity checks should themselves be sane.
   Branch:
     ^/subversion/branches/1.6.x-r935631
   Votes:
     +1: cmpilato, pburba

 * r939375-939376
   Fix issue #3623, a bug in foreign repository merges that causes properties
   on merge-added files to be dropped from commits of those merges.
   Justification:
     This can actually result in what is arguably a corrupt working copy,
     one that thinks it is in sync with the repository but actually is not.
   Notes:
     r939375 tweaks a test to cover this case.  r939376 is the fix.
   Branch:
     ^/subversion/branches/1.6.x-issue3623
   Votes:
     +1: cmpilato, pburba

 * r945708
   Fix issue #3469 "tree conflict inside of directory external causes
   assertion to fail".
   Justification:
     Assertion failures are bad and tree-conflicted externals cannot
     be reverted or resolved without this fix.
   Branch:
     ^/subversion/branches/1.6.x-issue3469
     This is not a backport branch. The fix is for 1.6.x only.
     Trunk will need a separate fix as part of wc-ng.
   Votes:
     +1: stsp, julianfoad

 * r950445, 950468
   Fix for issue #2591 "'svnadmin hotcopy' does not replicate symlinks".
   Justification:
     This issue is waiting for resolution for more than 3 years.
   Notes:
     r950445 fixes the issue and r950468 is a test for this issue.
   Votes:
     +1: stylesen

 * r950931, 950933
   Fix for issue #3303 "cannot copy broken symlink".
   Justification:
     This issue was reported in 1.5.x hence it is nice to have in 1.6.x.
   Notes:
     r950933 fixes the issue and r950931 is a test for this issue.
   Branch:
     ^/subversion/branches/1.6.x-issue3303
   Votes:
     +1: stylesen

 * r901304
   Update email adress to which to send the crash reports (on Windows).
   Justification:
     Old address still points to the tigris.org domain. Simple fix.
   Votes:
     +1: lgo, stylesen

Veto-blocked changes:
=====================

 * r877552, r877617, r877618, r877619, r877621
   Support using `svnversion` on files and improve some messages printed by
   `svnversion`.
   Justification:
     Some messages printed by `svnversion` are inconsistent and sometimes
     incorrect:
     $ svnversion /usr
     exported
     $ svnversion /bin/ls
     '/bin/ls' not versioned, and not exported
     $ svnversion VERSIONED_FILE
     'VERSIONED_FILE' not versioned, and not exported
     $ svnversion /nonexistent
     subversion/libsvn_wc/questions.c:90: (apr_err=2)
     svn: '/nonexistent' does not exist
     ^^^
     Messages with these revisions backported:
     $ svnversion /usr
     Unversioned directory
     $ svnversion /bin/ls
     Unversioned file
     $ svnversion VERSIONED_FILE
     NUMBER
     $ svnversion /nonexistent
     '/nonexistent' doesn't exist
   Votes:
     +1: arfrever
     -0: cmpilato (Introduces new features and changes output)
     -1: rhuijben (Introduces new features and changes output;
                   I think it should be removed from STATUS)

 * r878078, r878088, r878102, r878196
   Make KWallet window attached to terminal window.
   Justification:
     Without this change, KWallet window can appear behind terminal window
     and is left after killing terminal.
   Votes:
     +1: arfrever
     -0: peters
     -1: stsp, rhuijben ("/proc/%ld/stat" is ugly and Linux-specific -
                         would just getenv("WINDOWID") work instead?)

 * r921453, r927184, r927243
   Fix reopened issue #3020 'Reflect dropped/renumbered revisions in
   svn:mergeinfo data during svnadmin load'
   Justification:
     Prior to this fix, when loading a partial dump with mergeinfo, the
     resulting mergeinfo in the target repository could refer to non-existent
     revisions or revisions that have nothing to do with the merge source
     in the original repository.  The original fix for issue assumed that
     the dump stream was for a complete repository.
   Notes:
     r921453 and 927184 are tests, r927243 is the fix.
   Branch:
     ^/subversion/branches/1.6.x-issue3020
   Votes:
     +1: rhuijben, kameshj
     -1: pburba (There is a regression with this fix, see
         http://svn.haxx.se/dev/archive-2010-03/0716.shtml)

 * r933194
   Fix for issue #2753
   SVNListParentPath feature doesn't work when svn authz is used.
   Justification:
     This issue is waiting for resolution for more than 3 years.
   Notes:
     See discussion at http://svn.haxx.se/dev/archive-2010-04/0275.shtml
   Votes:
     -1: cmpilato (pending results of aforemented discussion)

Approved changes:
=================

 * r951753
   Fix issue #3649: a bogus 'mkdir --parents' error.
   Justification:
     Simple fix, user requests.
   Votes:
     +1: danielsh, rhuijben, stylesen
