      * * * * * * * * * * * * * * * * * * * * * * * * * * * *
      *                                                     *
      *  THIS RELEASE STREAM IS OPEN TO BUG FIXES.          *
      *                                                     *
      * * * * * * * * * * * * * * * * * * * * * * * * * * * *

This file tracks the status of releases in the 1.6.x line.

See "Stabilizing and maintaining releases" in trunk/www/hacking.html for
details on how release lines and voting work, what kinds of bugs can
delay a release, etc.

Status of 1.6.3:
================

Candidate changes:

 * r36450, r36452, r37470, r37479, 37538
   Improve BASH completion.
   Votes:
     +1: arfrever

 * r37478, r37543, r37544, r37545, r37547
   Support using `svnversion` on files and improve some messages printed by
   `svnversion`.
   Justification:
     Some messages printed by `svnversion` are inconsistent and sometimes
     incorrect:
     $ svnversion /usr
     exported
     $ svnversion /bin/ls
     '/bin/ls' not versioned, and not exported
     $ svnversion VERSIONED_FILE
     'VERSIONED_FILE' not versioned, and not exported
     $ svnversion /nonexistent
     subversion/libsvn_wc/questions.c:90: (apr_err=2)
     svn: '/nonexistent' does not exist
     ^^^
     Messages with these revisions backported:
     $ svnversion /usr
     Unversioned directory
     $ svnversion /bin/ls
     Unversioned file
     $ svnversion VERSIONED_FILE
     NUMBER
     $ svnversion /nonexistent
     '/nonexistent' doesn't exist
   Votes:
     +1: arfrever
     -0: rhuijben, cmpilato (Introduces new features and changes output)

 * r37491, r37593, r37618
   Another merge performance improvement: Reduce contacts with server when
   a subtree with mergeinfo has non-inheritable mergeinfo and the subtree's
   immediate children have no explicit mergeinfo.
   Justification:
     If you hit this use case and the and the subtree in question has a *lot*
     of immediate children without mergeinfo then this change will avoid
     needless round trips for *each* of those children.
   Notes:
     There is a call to svn_uri_basename() in
     inherit_implicit_mereginfo_form_parent() that must be changed to
     svn_path_basename() since the former is new for 1.7.
     r37491 is the fix, r37593 is a typo fix, r37618 is some code refactoring
     to address gstein's bloat concern.
   Votes:
     +1: pburba, rhuijben
     -0: gstein (code bloat)

 * r37622
   Work around a buffer overflow bug in some APR versions (recently
   fixed) by (ultimately) using apr_brigade_write() instead of
   apr_brigade_vprintf() to transmit large chunks of base64-encoded
   property data.
   Branch:
     ^/branches/1.6.x-r37622
   Justification:
     Failure case comes as a surprise, and basically blocks svnsync from
     moving on past a troublesome revision.  Upgrading APR to a fixed
     version is good, but not necessarily an option.  Our workaround is
     easier to deploy.
   Notes:
     Because of some refactoring work done on trunk, this isn't so
     much a backport as a reimplementation.  But merging the branch
     should do the trick.
   Votes:
     +1: cmpilato

 * r37627
   Fix for issue #3126 'svn mergeinfo shows too few or too many eligible
   revisions'
   Branch:
     ^/branches/1.6.x-r37627
   Justification:
     Without this change the svn mergeinfo subcommand gives incorrect
     and inconsistent results when encountering non-inheritable mergeinfo.
     See http://subversion.tigris.org/issues/show_bug.cgi?id=3126#desc5.
   Notes:
     r37627 revved the svn_mergeinfo_remove and svn_mergeinfo_intersect
     APIS.  So I created a backport branch that moves the declaration for
     these to subversion/include/private/svn_mergeinfo_private.h.
   Votes:
     +1: pburba

 * r37710
   Fix Issue 3413: Bindings fail to load FS modules with enabled run-time
   module search.
   Votes:
     +1: arfrever

 * r37735
   Fix an assertion which occurs when accidentally omitting "--new=" from
   'svn diff' invocations of the form 'svn diff --old=OLDURL --new=NEWURL'.
   Justification:
     Assertions don't often yield helpful corrective info to the users.
   Votes:
     +1: cmpilato, arfrever

 * r37719, r37723, r37741
   Fix issue where 'blame -g' returns incorrect revisions of some chunks
   that were merged in.
   Justification:
     Feature not working as advertized.
   Note: r37723 is the actual fix, r37719 is a regression test and r37741
     a small comment fix.
   Votes:
     +1: lgo, arfrever

 * r37745
   Fix an *ancient* bug that permits the setting of properties on out-of-
   date directories over ra_neon when wcprops cache isn't populated.
   Justification:
     Modifying out of date dirprops?  That ain't how we roll.
   Votes:
     +1: cmpilato, arfrever

 * r37768
   Make svnadmin load tolerate mergeinfo with "\r\n".
   Justification:
     Prior to this change you cannot load a dump file that contains Windows
     style newlines in svn:mergeinfo.  See
     http://svn.haxx.se/dev/archive-2009-05/0179.shtml.
   Votes:
     +1: pburba, danielsh

 * r37774
   Make contrib/client-side/emacs/dsvn.el compatible with Subversion 1.6, in
   particular the new column in "svn status" output.
   Justification:
     It doesn't work with svn 1.6 otherwise.
   Votes:
     +1: dkagedal

 * r37779
   Fix a potential segfault when doing noop file merges.
   Justification:
     Not common, but a segfault is a segfault.  See
     http://svn.haxx.se/dev/archive-2009-05/0363.shtml.
   Votes:
     +1: pburba

 * r37793
   Delay beginning the drive of the repos update editor until after some
   common error conditions have been tested for.  This helps provide
   more user-friendly error messaging for DAV clients.
   Justification:
     What part of "user" and "friendly" did you not catch?
   Votes:
     +1: cmpilato
 
 * r37795
   Make svnsync normalize svn:* props to LF line ending style.
   Justification:
     Some clients used to put inconsistent line endings in various svn:*
     props. These repositories can't be svnsync'ed with SVN 1.6.x, since the
     server now enforces consistent line endings in svn:* props by refusing
     to accept them. Some users are blocked by this.
   Votes:
     +1: neels
     +1: danielsh (once SVN_ERR() is added around calls to the new functions)

Approved changes:
=================

 * r36178
   External merge-tool improvements.
   Justification:
     Makes automated merging easier, and also fixes a bug where a file
     which should be marked conflicted was considered successfully merged
     because the tool's exit status was not properly evaluated.
   Notes:
     The bug is only triggered when using an external merge tool with the
     --accept=launch option. I don't think we need to hold 1.6.0 on this.
   Votes:
     +1: stsp (I'd say it's a fix for a feature we already support (merge
               under control of external non-interactive tool), albeit
               the feature is currently so buggy that you can't use it.)
     +1: arfrever, cmpilato
     -0: hwright (there are merge conflicts.  they aren't big, but they are
                  non-trivial enough that I'd like to see a backport branch)
