
General Guide to Textdeltas.... basic use of interfaces.

(Yes, the interfaces are a bit simplified.  :)  )


To SEND textdeltas
------------------
 
 1. txdelta_stream = svn_txdelta (source_stream, target_stream);


 2. (If using an "editor" to transmit information -- PUSH Interface:)

    window_consumer_func = editor->apply_textdelta (file_baton);

    Loop:
       txdelta_window = svn_txdelta_next_window (txdelta_stream);
       window_consumer_func (txdelta_window);
       svn_txdelta_free_window (txdelta_window);

                    --- OR ---

    (If you want raw vcdiff data for embedding in XML or HTTP
    transactions  -- PULL interface:)

     vcdiff_read_fn = svn_txdelta_to_vcdiff (txdelta_stream);

     Loop:
        read bytes out of vcdiff_read_fn
        stash them in XML or elsewhere


 3. svn_txdelta_free (txdelta_stream);



To RECEIVE textdeltas
---------------------
 
 1.  (If implementing "apply_textdelta" within an editor:) 

      write a window_consumer_func() which parses the ops within each
      window and applies them to a source file, resulting in target file.

               --- AND OPTIONALLY  ---

     (If you want to receive raw vcdiff data from XML or HTTP transactions:)

      vcdiff_parser = svn_make_vcdiff_parser (window_consumer_func);

      Loop over vcdiff data:
          svn_vcdiff_parse (vcdiff_parser, data);
